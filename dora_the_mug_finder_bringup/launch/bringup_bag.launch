<launch>    
    
    <!-- Launch openni and defines the name as camera-->    
    <arg name="frame_id" default="camera"/>

    <include file="$(find openni_launch)/launch/openni.launch">
        <arg name="load_driver" value="false"/>
        <arg name="camera" value="$(arg frame_id)"/>
    </include>

    <!-- Use bagfile time -->
    <param name="/use_sim_time" value="false"/>
    
    <!-- Read bagfile in loop -->
    <arg name="bag_file_name" value="kinect"/>
    <node pkg="rosbag" type="play" name="rosbag_play" output="screen" args="--clock -l $(find dora_the_mug_finder_bringup)/bag/$(arg bag_file_name).bag"/>
    
    <!-- Launch convertor file -->
    <node pkg="dora_the_mug_finder_bringup" name="ros_to_open3d" type="kinect2pcl.py" output="screen"/>

    <!-- Launch rviz with correct configuration file -->

<!--    <node name="rviz" pkg="rviz" type="rviz" args="--><!--display-config $(find dora_the_mug_finder_bringup)/config/kinect.rviz" required="false"/> -->
    <!-- Launch rqt_graph for node visualization -->
    <node name="rqt_graph" pkg="rqt_graph" type="rqt_graph"/>

</launch>
